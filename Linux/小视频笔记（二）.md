# 小视频笔记（二）

[TOC]



# 5.文本编辑器Vim

## 5.1 Vim简介

Vim是一个功能强大的全屏幕文本编辑器，是Linux/UNIX上最常用的文本编辑器，它的作用是建立、编辑、显示文本文件。

**Vim 没有菜单，只有命令。**

## 5.2 Vim工作模式

![](./images/linux小视频02.png)

## 5.3 常用操作

### 5.3.1 插入命令

| 命令   | 作用         |
| ---- | ---------- |
| a    | 在光标所在字符后插入 |
| A    | 在光标所在行尾插入  |
| i    | 在光标所在字符前插入 |
| I    | 在光标所在行行首插入 |
| o    | 在光标下插入新航   |
| O    | 在光标上插入新航   |

### 5.3.2 定位命令

| 命令         | 作用         |
| ---------- | ---------- |
| : set nu   | 设置行号       |
| : set nonu | 取消行号       |
| gg/G       | 到第一行/到最后一行 |
| nG         | 到第n行       |
| : nG       | 到第n行       |
| $          | 移至行尾       |
| 0          | 移至行首       |

### 5.3.3 删除命令

| 命令      | 作用              |
| ------- | --------------- |
| x       | 删除光标所在处字符       |
| nx      | 删除光标所在处后n个字符    |
| dd      | 删除光标所在行，ndd删除n行 |
| dG      | 删除光标所在行到文件末尾内容  |
| D       | 删除光标所在处到行尾内容    |
| :n1,n2d | 删除指定范围的行        |

### 5.3.4 复制和剪切命令

| 命令   | 作用             |
| ---- | -------------- |
| yy   | 复制当前行          |
| nyy  | 复制当前行以下n行      |
| dd   | 剪切当前行          |
| ndd  | 剪切当前行以下n行      |
| p、P  | 粘贴在当前光标所在行下或行上 |

### 5.3.5 替换和取消命令

| 命令   | 作用                  |
| ---- | ------------------- |
| r    | 取代光标所在处字符           |
| R    | 从光标所在处开始替换字符，按Esc结束 |
| u    | 取消上一步操作             |

### 5.3.6 搜索和搜索替换命

| 命令                | 作用                        |
| ----------------- | ------------------------- |
| /string           | 搜索指定字符串；搜索时忽略大小写`:set ic` |
| n                 | 搜索指定字符串的下一个出现位置           |
| :%s/old/new/g     | 全文替换指定字符串                 |
| :n1,n2s/old/new/g | 在一定范围内替换指定字符串             |

### 5.3.7 存和退出命令

| 命令              | 作用                     |
| --------------- | ---------------------- |
| :w              | 保存修改                   |
| :w new_filename | 另存为指定文件                |
| :wq             | 保存修改并退出                |
| ZZ              | 快捷键，保存修改并退出            |
| :q!             | 不保存修改退出                |
| :wq!            | 保存修改并退出（文件所有者及root可使用） |

## 5.4 使用技巧

![](./images/linux小视频03.png)



**注：**

* `:r 文件路径` 可以直接把文件导入光标所在的文件 
* 设置好的快捷键在重启之后会失效，可以在宿主目录下创建vim的配置文件，用户的家目录下，文件名字叫做`.vimrc`
* 普通用户在` /home/username/.vimrc`；Root用户在 `/root/.vimrc`